/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/menu */ \"./src/modules/menu.js\");\n/* harmony import */ var _modules_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/config */ \"./src/modules/config.js\");\n/* harmony import */ var _modules_display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/display */ \"./src/modules/display.js\");\n//--------------------------------//\r\n//------------ TETRIS ------------//\r\n//--------------------------------//\r\n\r\n//---------------------------------------------------------\r\n\r\n/////////////\r\n// IMPORTS //\r\n/////////////\r\n\r\n\r\n\r\n\r\n\r\n//---------------------------------------------------------\r\n\r\n//////////////////\r\n// INIT SCRIPTS //\r\n//////////////////\r\n\r\ndocument.getElementById('enduranceMode').addEventListener('click', () => _modules_menu__WEBPACK_IMPORTED_MODULE_0__[\"menu\"].enduranceMode());\r\ndocument.getElementById('rushMode').addEventListener('click', () => _modules_menu__WEBPACK_IMPORTED_MODULE_0__[\"menu\"].rushMode());\r\ndocument.getElementById('sprintMode').addEventListener('click', () => _modules_menu__WEBPACK_IMPORTED_MODULE_0__[\"menu\"].sprintMode());\r\n\r\n_modules_config__WEBPACK_IMPORTED_MODULE_1__[\"init\"].detectDevice() === 'mobile' ? _modules_display__WEBPACK_IMPORTED_MODULE_2__[\"display\"].touchControl(true) : _modules_display__WEBPACK_IMPORTED_MODULE_2__[\"display\"].touchControl(false);\r\n\r\n//---------------------------------------------------------\r\n\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/modules/audio.js":
/*!******************************!*\
  !*** ./src/modules/audio.js ***!
  \******************************/
/*! exports provided: sounds */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sounds\", function() { return sounds; });\nlet sounds = {\r\n  theme1: new Audio('./sound/origTheme.mp3'),\r\n  land: new Audio('./sound/samples/land.mp3'),\r\n  level: new Audio('./sound/samples/level.mp3'),\r\n  move: new Audio('./sound/samples/move.mp3'),\r\n  rotate: new Audio('./sound/samples/rotate.mp3'),\r\n  smack: new Audio('./sound/samples/shift.mp3'),\r\n  pauseSound: new Audio('./sound/samples/pause.mp3'),\r\n  justSmashed: false,\r\n  playingTheme: 0,\r\n  toggleSmash() {\r\n    this.justSmashed = !this.justSmashed;\r\n  },\r\n  playSong(theme) {\r\n    theme.play();\r\n    theme.loop = true;\r\n    theme.volume = 0.5;\r\n  },\r\n  play(theme) {\r\n    this.stop(theme);\r\n    theme.play();\r\n  },\r\n  stop(theme) {\r\n    theme.pause();\r\n    theme.currentTime = 0;\r\n  },\r\n  pause(theme) {\r\n    theme.pause();\r\n  },\r\n};\r\n\n\n//# sourceURL=webpack:///./src/modules/audio.js?");

/***/ }),

/***/ "./src/modules/config.js":
/*!*******************************!*\
  !*** ./src/modules/config.js ***!
  \*******************************/
/*! exports provided: init */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game */ \"./src/modules/game.js\");\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./timer */ \"./src/modules/timer.js\");\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./display */ \"./src/modules/display.js\");\n/* harmony import */ var _audio__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./audio */ \"./src/modules/audio.js\");\n\r\n\r\n\r\n\r\n\r\nconst init = {\r\n  blockSize: 25,\r\n  maxBlockSize: 26,\r\n  minBlockSize: 10,\r\n  rows: 20,\r\n  columns: 10,\r\n  timerCountPrecision: 10, // one tick each centisecond\r\n  timerDisplayPrecision: 1000, // one display each seconds\r\n  speedArray: [\r\n    2360,\r\n    1460,\r\n    920,\r\n    590,\r\n    388,\r\n    259.8,\r\n    177.5,\r\n    123.6,\r\n    87.9,\r\n    63.61,\r\n    46.93,\r\n    35.256,\r\n    26.977,\r\n    21.017,\r\n    16.67,\r\n  ],\r\n  devMode: false,\r\n  deletionAnimationSpeed: 500,\r\n  previewSize: 4,\r\n  detectDevice() {\r\n    return !!navigator.maxTouchPoints ? 'mobile' : 'computer';\r\n  },\r\n  gameMode: {\r\n    enduro: {\r\n      increaseSpeedValue: 1,\r\n      linesToIncreaseSpeed: 10,\r\n      initSpeed: 3,\r\n      display() {\r\n        document.getElementById('timerBox').classList.add('hide');\r\n        document.getElementById('timerTitle').classList.add('hide');\r\n        document.getElementById('scoreBox').classList.remove('hide');\r\n        document.getElementById('scoreTitle').classList.remove('hide');\r\n      },\r\n      init() {\r\n        _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].speed = this.initSpeed;\r\n        this.display();\r\n        _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].playingTheme = _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].theme1;\r\n      },\r\n      start() {\r\n        console.log('start enduro mode');\r\n      },\r\n      pause() {\r\n        // no timer\r\n        return false;\r\n      },\r\n      lineCheck(lineToDelete) {\r\n        // increase speed every ten lines\r\n        const speedShouldIncrease = lineToDelete.some((x, index) => {\r\n          return (_game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].lines + index + 1) % this.linesToIncreaseSpeed === 0 && _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].lines > 0;\r\n        });\r\n        if (speedShouldIncrease) {\r\n          console.log('10 lines have been made, speed is increasing');\r\n          _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].increaseSpeed(this.increaseSpeedValue);\r\n        }\r\n      },\r\n      end() {\r\n        // enduro mode will continue until gameOver\r\n        return false;\r\n      },\r\n      displayScore() {\r\n        _display__WEBPACK_IMPORTED_MODULE_2__[\"display\"].endGame(true, 'GAME END', _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].gameScore);\r\n      },\r\n    },\r\n    rush: {\r\n      initSpeed: 6,\r\n      initTimer: 60,\r\n      increaseSpeedValue: 1,\r\n      linesToIncreaseSpeed: 5,\r\n      display() {\r\n        document.getElementById('timerBox').classList.remove('hide');\r\n        document.getElementById('timerTitle').classList.remove('hide');\r\n        document.getElementById('scoreBox').classList.remove('hide');\r\n        document.getElementById('scoreTitle').classList.remove('hide');\r\n      },\r\n      init() {\r\n        _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].speed = this.initSpeed;\r\n        _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].value = this.initTimer;\r\n        _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].pause();\r\n        this.display();\r\n        _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].playingTheme = _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].theme1;\r\n      },\r\n      start() {\r\n        console.log('start rush mode');\r\n        _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].decrement();\r\n        _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].display();\r\n      },\r\n      pause() {\r\n        _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].pause();\r\n      },\r\n      lineCheck(lineToDelete) {\r\n        // increase speed every ten lines\r\n        const speedShouldIncrease = lineToDelete.some((x, index) => {\r\n          return (_game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].lines + index + 1) % this.linesToIncreaseSpeed === 0 && _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].lines > 0;\r\n        });\r\n        if (speedShouldIncrease) {\r\n          console.log('10 lines have been made, speed is increasing');\r\n          _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].increaseSpeed(this.increaseSpeedValue);\r\n        }\r\n      },\r\n      end() {\r\n        if (_timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].value <= 0) {\r\n          console.log('time out!');\r\n          _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].pause();\r\n          _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].stop();\r\n          _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].gameStatut = 'end';\r\n          console.log('GAME END');\r\n          return true;\r\n        }\r\n        return false;\r\n      },\r\n      displayScore() {\r\n        _display__WEBPACK_IMPORTED_MODULE_2__[\"display\"].endGame(true, 'TIME OUT!', _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].gameScore, 'points');\r\n      },\r\n    },\r\n    sprint: {\r\n      initSpeed: 6,\r\n      increaseSpeedValue: 1,\r\n      linesToIncreaseSpeed: 5,\r\n      initTimer: 0,\r\n      linesToWin: 20,\r\n\r\n      display() {\r\n        document.getElementById('timerBox').classList.remove('hide');\r\n        document.getElementById('timerTitle').classList.remove('hide');\r\n        document.getElementById('scoreBox').classList.add('hide');\r\n        document.getElementById('scoreTitle').classList.add('hide');\r\n      },\r\n      init() {\r\n        _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].speed = this.initSpeed;\r\n        _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].value = this.initTimer;\r\n        _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].pause();\r\n        this.display();\r\n        _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].playingTheme = _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].theme1;\r\n      },\r\n      start() {\r\n        console.log('start sprint mode');\r\n        _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].increment();\r\n        _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].display();\r\n      },\r\n      pause() {\r\n        _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].pause();\r\n      },\r\n      lineCheck(lineToDelete) {\r\n        // increase speed every ten lines\r\n        const speedShouldIncrease = lineToDelete.some((x, index) => {\r\n          return (_game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].lines + index + 1) % this.linesToIncreaseSpeed === 0 && _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].lines > 0;\r\n        });\r\n        if (speedShouldIncrease) {\r\n          console.log('3 lines have been made, speed is increasing');\r\n          _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].increaseSpeed(this.increaseSpeedValue);\r\n        }\r\n      },\r\n      end() {\r\n        if (_game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].lines >= this.linesToWin) {\r\n          console.log('lines out!');\r\n          _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].pause();\r\n          _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].stop();\r\n          _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].gameStatut = 'end';\r\n          console.log('GAME END');\r\n          return true;\r\n        }\r\n        return false;\r\n      },\r\n      displayScore() {\r\n        _display__WEBPACK_IMPORTED_MODULE_2__[\"display\"].endGame(true, `${this.linesToWin} LINES DONE!`, _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].value, 'seconds');\r\n      },\r\n    },\r\n  },\r\n};\r\n\n\n//# sourceURL=webpack:///./src/modules/config.js?");

/***/ }),

/***/ "./src/modules/display.js":
/*!********************************!*\
  !*** ./src/modules/display.js ***!
  \********************************/
/*! exports provided: display */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"display\", function() { return display; });\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game */ \"./src/modules/game.js\");\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./timer */ \"./src/modules/timer.js\");\n\r\n\r\n\r\nconst display = {\r\n  playgroundPanel(bool) {\r\n    if (bool) {\r\n      console.log('showing playground panels');\r\n      document.getElementById('sidePanelRight').classList.remove('hide');\r\n      document.getElementById('sidePanelLeft').classList.remove('hide');\r\n      document.getElementById('playgroundContainer').classList.remove('hide');\r\n    } else {\r\n      console.log('hidding playground panels');\r\n      document.getElementById('sidePanelRight').classList.add('hide');\r\n      document.getElementById('sidePanelLeft').classList.add('hide');\r\n      document.getElementById('playgroundContainer').classList.add('hide');\r\n    }\r\n  },\r\n  mainMenu(bool) {\r\n    if (bool) {\r\n      console.log('showing main menu');\r\n      document.getElementById('mainMenu').classList.remove('hide');\r\n    } else {\r\n      console.log('hidding main menu');\r\n      document.getElementById('mainMenu').classList.add('hide');\r\n    }\r\n  },\r\n  sidePanelInfo() {\r\n    document.getElementById('speed').innerHTML = _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].speed.toString();\r\n    document.getElementById('timer').innerHTML = Math.floor(_timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].value);\r\n  },\r\n  endGame(bool, title = 'GAME OVER', score, unit) {\r\n    const displayValue = bool ? 'flex' : 'none';\r\n    document.getElementById('endGame').style.display = displayValue;\r\n    if (bool) {\r\n      document.getElementById('endGameTitle').innerHTML = title;\r\n      score >= 0 ? (document.getElementById('finalScore').innerHTML = score) : null;\r\n      unit ? (document.getElementById('scoreUnit').innerHTML = unit) : null;\r\n    }\r\n  },\r\n  pause(bool) {\r\n    const displayValue = bool ? 'block' : 'none';\r\n    document.getElementById('gamePaused').style.display = displayValue;\r\n  },\r\n  touchControl(bool) {\r\n    if (bool) {\r\n      document.getElementById('touchControlContainer').style.display = 'flex';\r\n    } else {\r\n      document.getElementById('touchControlContainer').style.display = 'none';\r\n    }\r\n  },\r\n};\r\n\n\n//# sourceURL=webpack:///./src/modules/display.js?");

/***/ }),

/***/ "./src/modules/game.js":
/*!*****************************!*\
  !*** ./src/modules/game.js ***!
  \*****************************/
/*! exports provided: game */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"game\", function() { return game; });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"./src/modules/config.js\");\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./timer */ \"./src/modules/timer.js\");\n/* harmony import */ var _tetrominoes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tetrominoes */ \"./src/modules/tetrominoes.js\");\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./display */ \"./src/modules/display.js\");\n/* harmony import */ var _playground__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./playground */ \"./src/modules/playground.js\");\n/* harmony import */ var _inputs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./inputs */ \"./src/modules/inputs.js\");\n/* harmony import */ var _menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./menu */ \"./src/modules/menu.js\");\n/* harmony import */ var _audio__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./audio */ \"./src/modules/audio.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst game = {\r\n  gameScore: 0,\r\n  lines: 8,\r\n  timerId: 0,\r\n  gameStatut: 'notStarted',\r\n  gameMode: '',\r\n  speed: 0,\r\n  init() {\r\n    _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].generateAllGrid();\r\n    _inputs__WEBPACK_IMPORTED_MODULE_5__[\"inputs\"].setListener(true);\r\n    this.restore();\r\n  },\r\n  quit() {\r\n    this.restore();\r\n    _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].removeAllGrid();\r\n    document.getElementById('startButton').innerHTML = 'Start';\r\n    _inputs__WEBPACK_IMPORTED_MODULE_5__[\"inputs\"].setListener(false);\r\n    _audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].stop(_audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].theme1);\r\n  },\r\n  restore() {\r\n    console.log('restoring game');\r\n    this.gameScore = 0;\r\n    this.lines = 0;\r\n    _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].gameMode[this.gameMode].init();\r\n    this.updateScore(0);\r\n    this.gameStatut = 'notStarted';\r\n    _display__WEBPACK_IMPORTED_MODULE_3__[\"display\"].endGame(false);\r\n    _display__WEBPACK_IMPORTED_MODULE_3__[\"display\"].pause(false);\r\n    _display__WEBPACK_IMPORTED_MODULE_3__[\"display\"].sidePanelInfo();\r\n    _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].initSaved();\r\n    _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].deletingAnimation = 'init';\r\n    clearInterval(this.timerId);\r\n  },\r\n  start() {\r\n    if (this.gameStatut === 'lost' || this.gameStatut === 'end') {\r\n      this.reset();\r\n    }\r\n    if (this.gameStatut === 'notStarted') {\r\n      console.log('new game is starting');\r\n      _audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].playSong(_audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].playingTheme);\r\n      _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].drawNew();\r\n    }\r\n    if (this.gameStatut === 'pause' || this.gameStatut === 'notStarted') {\r\n      _audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].playSong(_audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].playingTheme);\r\n\r\n      this.timerId = setInterval(this.run.bind(this), _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].speedArray[this.speed - 1]);\r\n      console.log('game mode', this.gameMode);\r\n      _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].gameMode[this.gameMode].start();\r\n      document.getElementById('startButton').innerHTML = 'Pause';\r\n      _display__WEBPACK_IMPORTED_MODULE_3__[\"display\"].pause(false);\r\n      this.gameStatut = 'play';\r\n    } else {\r\n      console.log('game is pausing');\r\n      this.pause();\r\n    }\r\n  },\r\n  pause() {\r\n    _audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].pause(_audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].playingTheme);\r\n    _audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].play(_audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].pauseSound);\r\n    this.gameStatut = 'pause';\r\n    _display__WEBPACK_IMPORTED_MODULE_3__[\"display\"].pause(true);\r\n    _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].gameMode[this.gameMode].pause();\r\n    document.getElementById('startButton').innerHTML = 'Resume';\r\n    clearInterval(this.timerId);\r\n  },\r\n  reset() {\r\n    _audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].stop(_audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].playingTheme);\r\n    console.log('reseting game');\r\n    _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].cleanAllGrid();\r\n    _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].generatePlaygroundGrid();\r\n    this.restore();\r\n    _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].initSaved();\r\n    this.gameStatut = 'notStarted';\r\n    document.getElementById('startButton').innerHTML = 'Start';\r\n    console.log('game have been reseted');\r\n  },\r\n  backMenu() {\r\n    this.quit();\r\n    _menu__WEBPACK_IMPORTED_MODULE_6__[\"menu\"].showMenu(true);\r\n  },\r\n  saveTetromino() {\r\n    if (_tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].canBeSaved) {\r\n      if (_tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].saved.tetromino.length > 0) {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].undraw();\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].switchSaved();\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].drawSaved();\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].undraw();\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].draw();\r\n      } else {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].saveTetromino();\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].drawSaved();\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].undraw();\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].drawNew();\r\n      }\r\n    } else {\r\n      console.log('already saved one tetromino wait for next');\r\n    }\r\n  },\r\n  updateScore() {\r\n    const addedScore = this.lines * this.lines * 10;\r\n    this.gameScore += addedScore;\r\n    document.getElementById('score').innerHTML = this.gameScore;\r\n    document.getElementById('lines').innerHTML = this.lines;\r\n  },\r\n  increaseSpeed(value) {\r\n    document.getElementById('speedBox').classList.add('flash');\r\n    document.getElementById('playground').classList.add('flash');\r\n    setTimeout(() => {\r\n      document.getElementById('speedBox').classList.remove('flash');\r\n      document.getElementById('playground').classList.remove('flash');\r\n    }, 500);\r\n    console.log('increasing speed');\r\n    clearInterval(this.timerId);\r\n    this.speed += value;\r\n    this.timerId = setInterval(this.run.bind(this), _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].speedArray[this.speed - 1]);\r\n    document.getElementById('speed').innerHTML = this.speed;\r\n  },\r\n  run() {\r\n    if (_playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].deletingAnimation === 'onGoing') {\r\n      // animation onGoing, nothing will happen\r\n      return;\r\n    }\r\n    if (_config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].gameMode[this.gameMode].end()) {\r\n      _audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].stop(_audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].playingTheme);\r\n      _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].gameMode[this.gameMode].displayScore();\r\n      return;\r\n    }\r\n    const lineToDelete = _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].lineIsMade();\r\n    const tetrominoTouchDown = _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].freeze();\r\n    if (tetrominoTouchDown && lineToDelete.length && _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].deletingAnimation !== 'done') {\r\n      _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].gameMode[this.gameMode].lineCheck(lineToDelete);\r\n      this.lines += lineToDelete.length;\r\n      this.updateScore();\r\n      _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].animateDeleteLine(lineToDelete);\r\n      _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].deletingAnimation = 'onGoing';\r\n      setTimeout(() => {\r\n        _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].deletingAnimation = 'done';\r\n      }, _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].deletionAnimationSpeed);\r\n      return;\r\n    }\r\n    if (tetrominoTouchDown) {\r\n      _audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].justSmashed ? _audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].toggleSmash() : _audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].play(_audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].land);\r\n      _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].deleteLine(lineToDelete);\r\n      _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].deletingAnimation = 'init';\r\n      _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].drawNew();\r\n      const lose = this.loseCondition();\r\n      if (lose) {\r\n        _audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].stop(_audio__WEBPACK_IMPORTED_MODULE_7__[\"sounds\"].playingTheme);\r\n        this.stop();\r\n        this.gameStatut = 'lost';\r\n        console.log('GAME LOST');\r\n        if (this.gameMode === 'enduro') {\r\n          _display__WEBPACK_IMPORTED_MODULE_3__[\"display\"].endGame(true, 'GAME END', this.gameScore, 'points');\r\n        } else {\r\n          _display__WEBPACK_IMPORTED_MODULE_3__[\"display\"].endGame(true, 'GAME OVER', ' ', ' ');\r\n          _timer__WEBPACK_IMPORTED_MODULE_1__[\"timer\"].pause();\r\n        }\r\n      }\r\n    } else {\r\n      _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].moveDown();\r\n    }\r\n  },\r\n  stop() {\r\n    clearInterval(this.timerId);\r\n    document.getElementById('startButton').innerHTML = 'Restart';\r\n  },\r\n  loseCondition() {\r\n    const gameLost = _tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].current.some((index) => {\r\n      return _playground__WEBPACK_IMPORTED_MODULE_4__[\"playground\"].blocks[_tetrominoes__WEBPACK_IMPORTED_MODULE_2__[\"tetromino\"].position + index].classList.contains('taken');\r\n    });\r\n    return gameLost;\r\n  },\r\n};\r\n\n\n//# sourceURL=webpack:///./src/modules/game.js?");

/***/ }),

/***/ "./src/modules/inputs.js":
/*!*******************************!*\
  !*** ./src/modules/inputs.js ***!
  \*******************************/
/*! exports provided: inputs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inputs\", function() { return inputs; });\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game */ \"./src/modules/game.js\");\n/* harmony import */ var _tetrominoes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tetrominoes */ \"./src/modules/tetrominoes.js\");\n\r\n\r\n\r\nlet keys = {\r\n  left: 37,\r\n  right: 39,\r\n  down: 40,\r\n  smackDown: 38,\r\n  rotLeft: 65,\r\n  rotRight: 90,\r\n  save: 69,\r\n};\r\n\r\nconst inputs = {\r\n  handleKeyPress(e) {\r\n    if (_game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].gameStatut === 'play') {\r\n      if (e.keyCode === keys.left) {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_1__[\"tetromino\"].moveLeft();\r\n      }\r\n      if (e.keyCode === keys.right) {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_1__[\"tetromino\"].moveRight();\r\n      }\r\n      if (e.keyCode === keys.down) {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_1__[\"tetromino\"].pushDown();\r\n      }\r\n      if (e.keyCode === keys.smackDown) {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_1__[\"tetromino\"].smackDown();\r\n      }\r\n      if (e.keyCode === keys.rotLeft) {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_1__[\"tetromino\"].rotateTetromino('left');\r\n      }\r\n      if (e.keyCode === keys.rotRight) {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_1__[\"tetromino\"].rotateTetromino('right');\r\n      }\r\n      if (e.keyCode === keys.save) {\r\n        _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].saveTetromino();\r\n      }\r\n    }\r\n  },\r\n  handleTouchPress(e) {\r\n    if (_game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].gameStatut === 'play') {\r\n      console.log(e.target.id);\r\n      if (e.target.id === 'controlRight') {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_1__[\"tetromino\"].moveRight();\r\n      }\r\n      if (e.target.id === 'controlLeft') {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_1__[\"tetromino\"].moveLeft();\r\n      }\r\n      if (e.target.id === 'controlDown') {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_1__[\"tetromino\"].pushDown();\r\n      }\r\n      if (e.target.id === 'controlUp') {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_1__[\"tetromino\"].smackDown();\r\n      }\r\n      if (e.target.id === 'controlRotRight') {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_1__[\"tetromino\"].rotateTetromino('right');\r\n      }\r\n      if (e.target.id === 'controlRotLeft') {\r\n        _tetrominoes__WEBPACK_IMPORTED_MODULE_1__[\"tetromino\"].rotateTetromino('left');\r\n      }\r\n      if (e.target.id === 'controlSave') {\r\n        _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].saveTetromino();\r\n      }\r\n    }\r\n  },\r\n  handleStart() {\r\n    _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].start();\r\n  },\r\n  handleReset() {\r\n    _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].reset();\r\n  },\r\n  handleBackMenu() {\r\n    _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].backMenu();\r\n  },\r\n  handleStart() {\r\n    _game__WEBPACK_IMPORTED_MODULE_0__[\"game\"].start();\r\n  },\r\n  setListener(bool) {\r\n    if (bool) {\r\n      console.log('setting event listeners');\r\n      document\r\n        .getElementById('touchControlContainer')\r\n        .addEventListener('click', this.handleTouchPress);\r\n      document.getElementById('resetButton').addEventListener('click', this.handleReset);\r\n      document.getElementById('startButton').addEventListener('click', this.handleStart);\r\n      document.getElementById('backMenu').addEventListener('click', this.handleBackMenu);\r\n      document.addEventListener('keydown', this.handleKeyPress);\r\n    } else {\r\n      console.log('removing event listeners');\r\n      document\r\n        .getElementById('touchControlContainer')\r\n        .removeEventListener('click', this.handleTouchPress);\r\n      document.getElementById('resetButton').removeEventListener('click', this.handleReset);\r\n      document.getElementById('startButton').removeEventListener('click', this.handleReset);\r\n      document.getElementById('backMenu').removeEventListener('click', this.handleReset);\r\n      document.removeEventListener('keydown', this.handleKeyPress);\r\n    }\r\n  },\r\n};\r\n\n\n//# sourceURL=webpack:///./src/modules/inputs.js?");

/***/ }),

/***/ "./src/modules/menu.js":
/*!*****************************!*\
  !*** ./src/modules/menu.js ***!
  \*****************************/
/*! exports provided: menu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"menu\", function() { return menu; });\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./timer */ \"./src/modules/timer.js\");\n\r\n\r\nconst { display } = __webpack_require__(/*! ./display */ \"./src/modules/display.js\");\r\nconst { game } = __webpack_require__(/*! ./game */ \"./src/modules/game.js\");\r\nconst { init } = __webpack_require__(/*! ./config */ \"./src/modules/config.js\");\r\n\r\nconst menu = {\r\n  showMenu(bool) {\r\n    display.mainMenu(bool);\r\n    display.playgroundPanel(!bool);\r\n  },\r\n  enduranceMode() {\r\n    this.showMenu(false);\r\n    game.gameMode = 'enduro';\r\n    game.init();\r\n  },\r\n\r\n  rushMode() {\r\n    this.showMenu(false);\r\n    display.mainMenu(false);\r\n    display.playgroundPanel(true);\r\n    game.gameMode = 'rush';\r\n    game.init();\r\n  },\r\n  sprintMode() {\r\n    this.showMenu(false);\r\n    display.mainMenu(false);\r\n    display.playgroundPanel(true);\r\n    game.gameMode = 'sprint';\r\n    game.init();\r\n  },\r\n};\r\n\n\n//# sourceURL=webpack:///./src/modules/menu.js?");

/***/ }),

/***/ "./src/modules/playground.js":
/*!***********************************!*\
  !*** ./src/modules/playground.js ***!
  \***********************************/
/*! exports provided: playground */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"playground\", function() { return playground; });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"./src/modules/config.js\");\n\r\n\r\nconst playground = {\r\n  blocks: [],\r\n  preview: [],\r\n  deletingAnimation: 'init',\r\n  setBlockWidth() {\r\n    const width = document.documentElement.clientWidth || document.body.clientWidth;\r\n\r\n    const tempBlockSize = Math.floor(width / (_config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns * 2.6));\r\n    if (tempBlockSize > _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].maxBlockSize) {\r\n      _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].blockSize = _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].maxBlockSize;\r\n    } else if (tempBlockSize < _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].minBlockSize) {\r\n      _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].blockSize = _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].minBlockSize;\r\n    } else {\r\n      _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].blockSize = tempBlockSize;\r\n    }\r\n  },\r\n  generatePlaygroundGrid() {\r\n    this.setBlockWidth();\r\n    console.log('generating playground blocks');\r\n    const playground = document.getElementById('playground');\r\n    const root = document.querySelector('html');\r\n    root.style.setProperty('--columns', _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns);\r\n    root.style.setProperty('--rows', _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].rows);\r\n    root.style.setProperty('--block-width', _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].blockSize + 'px');\r\n    const numberOfBlocks = _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].rows * _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns;\r\n    for (let i = 0; i < numberOfBlocks; i++) {\r\n      let div = document.createElement('div');\r\n      div.className = 'playgroundBlock';\r\n      _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].devMode ? (div.innerHTML = i) : null;\r\n      playground.appendChild(div);\r\n    }\r\n    for (let i = 0; i < _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns; i++) {\r\n      let div = document.createElement('div');\r\n      div.className = 'playgroundBottom taken';\r\n      playground.appendChild(div);\r\n    }\r\n    this.blocks = Array.from(document.querySelectorAll('.grid div'));\r\n    console.log(`${numberOfBlocks} blocks have been generated`);\r\n  },\r\n  generatePreviewGrid() {\r\n    console.log('generating preview blocks');\r\n    const preview = document.getElementById('nextTetrominoBox');\r\n    const numberOfBlocks = Math.pow(_config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].previewSize, 2);\r\n    for (let i = 0; i < numberOfBlocks; i++) {\r\n      let div = document.createElement('div');\r\n      div.className = 'playgroundBlock';\r\n      _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].devMode ? (div.innerHTML = i) : null;\r\n      preview.appendChild(div);\r\n    }\r\n    this.preview = Array.from(document.querySelectorAll('#nextTetrominoBox div'));\r\n    console.log(`${numberOfBlocks} blocks have been generated for the preview`);\r\n  },\r\n  generateSavedGrid() {\r\n    console.log('generating saved blocks');\r\n    const saved = document.getElementById('savedTetrominoBox');\r\n    const numberOfBlocks = Math.pow(_config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].previewSize, 2);\r\n    for (let i = 0; i < numberOfBlocks; i++) {\r\n      let div = document.createElement('div');\r\n      div.className = 'playgroundBlock';\r\n      _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].devMode ? (div.innerHTML = i) : null;\r\n      saved.appendChild(div);\r\n    }\r\n    this.saved = Array.from(document.querySelectorAll('#savedTetrominoBox div'));\r\n    console.log(`${numberOfBlocks} blocks have been generated for the save slot`);\r\n  },\r\n  generateAllGrid() {\r\n    this.generatePlaygroundGrid();\r\n    this.generatePreviewGrid();\r\n    this.generateSavedGrid();\r\n  },\r\n  cleanPreviewGrid() {\r\n    this.preview.forEach((index) => (index.className = 'playgroundBlock'));\r\n  },\r\n  cleanSavedGrid() {\r\n    this.saved.forEach((index) => (index.className = 'playgroundBlock'));\r\n  },\r\n  removeGrid(id) {\r\n    const playgroundToClean = document.getElementById(id);\r\n    while (playgroundToClean.firstChild) {\r\n      playgroundToClean.removeChild(playgroundToClean.firstChild);\r\n    }\r\n  },\r\n  removeAllGrid() {\r\n    console.log('removing all grids');\r\n    this.removeGrid('nextTetrominoBox');\r\n    this.removeGrid('savedTetrominoBox');\r\n    this.removeGrid('playground');\r\n  },\r\n  cleanAllGrid() {\r\n    console.log('cleaning all grids');\r\n    this.removeGrid('playground');\r\n    this.cleanPreviewGrid();\r\n    this.cleanSavedGrid();\r\n  },\r\n  lineIsMade() {\r\n    let checkLine = [];\r\n    let lineToDelete = [];\r\n    for (let i = 0; i < _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns; i++) {\r\n      checkLine.push(i);\r\n    }\r\n    for (let i = 0; i < _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].rows; i++) {\r\n      const lineTaken = checkLine.every((index) => {\r\n        return (\r\n          this.blocks[i * _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns + index].classList.contains('taken') ||\r\n          this.blocks[i * _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns + index].classList.contains('tetromino')\r\n        );\r\n      });\r\n      lineTaken ? lineToDelete.push(i) : null;\r\n    }\r\n    lineToDelete.length ? console.log('line complete', lineToDelete) : 0;\r\n    return lineToDelete;\r\n  },\r\n  animateDeleteLine(lineToDelete) {\r\n    for (let i = 0; i < _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns; i++) {\r\n      lineToDelete.forEach(\r\n        (index) =>\r\n          (this.blocks[_config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns * index + i].className = 'playgroundBlock taken erasing')\r\n      );\r\n    }\r\n  },\r\n  deleteLine(lineArray) {\r\n    for (let j = 0; j < lineArray.length; j++) {\r\n      let saveUpperBlockStyle = [];\r\n      console.log(`deleting line ${lineArray[j]}`);\r\n      for (let i = 0; i < lineArray[j] * _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns; i++) {\r\n        saveUpperBlockStyle.push(this.blocks[i].className);\r\n        this.blocks[i].className = 'playgroundBlock';\r\n      }\r\n      for (let i = 0; i < lineArray[j] * _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns; i++) {\r\n        let bottomCheck = this.blocks[i + _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns].className;\r\n        !bottomCheck.includes('playgroundBottom')\r\n          ? (this.blocks[i + _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns].className = saveUpperBlockStyle[i])\r\n          : null;\r\n      }\r\n    }\r\n  },\r\n};\r\n\n\n//# sourceURL=webpack:///./src/modules/playground.js?");

/***/ }),

/***/ "./src/modules/tetrominoes.js":
/*!************************************!*\
  !*** ./src/modules/tetrominoes.js ***!
  \************************************/
/*! exports provided: tetromino */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tetromino\", function() { return tetromino; });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"./src/modules/config.js\");\n/* harmony import */ var _playground__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./playground */ \"./src/modules/playground.js\");\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./game */ \"./src/modules/game.js\");\n/* harmony import */ var _audio__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./audio */ \"./src/modules/audio.js\");\n\r\n\r\n\r\n\r\n\r\nconst tetromino = {\r\n  number: 0,\r\n  position: 0,\r\n  rotation: 0,\r\n  current: [],\r\n  canBeSaved: true,\r\n  canMoveDown: true,\r\n  saved: {},\r\n  next: {},\r\n  theTetrominoes: [],\r\n  theTetrominoesPreview: [],\r\n  createTetrominoes(columns) {\r\n    const iTetromino = [\r\n      [1, columns + 1, columns * 2 + 1, columns * 3 + 1],\r\n      [0, 1, 2, 3],\r\n      [1, columns + 1, columns * 2 + 1, columns * 3 + 1],\r\n      [0, 1, 2, 3],\r\n    ];\r\n    const llTetromino = [\r\n      [0, columns, columns + 1, columns + 2],\r\n      [1, 2, columns + 1, columns * 2 + 1],\r\n      [0, 1, 2, columns + 2],\r\n      [1, columns + 1, columns * 2, columns * 2 + 1],\r\n    ];\r\n    const lrTetromino = [\r\n      [2, columns, columns + 1, columns + 2],\r\n      [1, columns + 1, columns * 2 + 1, columns * 2 + 2],\r\n      [0, 1, 2, columns],\r\n      [0, 1, columns + 1, columns * 2 + 1],\r\n    ];\r\n    const oTetromino = [\r\n      [1, 2, columns + 1, columns + 2],\r\n      [1, 2, columns + 1, columns + 2],\r\n      [1, 2, columns + 1, columns + 2],\r\n      [1, 2, columns + 1, columns + 2],\r\n    ];\r\n    const sTetromino = [\r\n      [1, 2, columns, columns + 1],\r\n      [1, columns + 1, columns + 2, columns * 2 + 2],\r\n      [1, 2, columns, columns + 1],\r\n      [1, columns + 1, columns + 2, columns * 2 + 2],\r\n    ];\r\n    const zTetromino = [\r\n      [0, 1, columns + 1, columns + 2],\r\n      [2, columns + 1, columns + 2, columns * 2 + 1],\r\n      [0, 1, columns + 1, columns + 2],\r\n      [2, columns + 1, columns + 2, columns * 2 + 1],\r\n    ];\r\n    const tTetromino = [\r\n      [1, columns, columns + 1, columns + 2],\r\n      [1, columns + 1, columns + 2, columns * 2 + 1],\r\n      [0, 1, 2, columns + 1],\r\n      [2, columns + 1, columns + 2, columns * 2 + 2],\r\n    ];\r\n\r\n    return [iTetromino, llTetromino, lrTetromino, oTetromino, sTetromino, zTetromino, tTetromino];\r\n  },\r\n  initPreview() {\r\n    const number = Math.floor(Math.random() * this.theTetrominoes.length);\r\n    const rotation = Math.floor(Math.random() * this.theTetrominoes[this.number].length);\r\n    const tetromino = this.theTetrominoesPreview[number][rotation];\r\n    this.next = {\r\n      number,\r\n      rotation,\r\n      tetromino,\r\n    };\r\n  },\r\n  initSaved() {\r\n    this.saved = {\r\n      number: 0,\r\n      rotation: 0,\r\n      tetromino: [],\r\n    };\r\n  },\r\n  initTetromino() {\r\n    console.log('init new tetromino');\r\n    if (_game__WEBPACK_IMPORTED_MODULE_2__[\"game\"].gameStatut === 'notStarted') {\r\n      this.theTetrominoes = this.createTetrominoes(_config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns);\r\n      this.theTetrominoesPreview = this.createTetrominoes(_config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].previewSize);\r\n      this.initPreview();\r\n    }\r\n\r\n    this.number = this.next.number;\r\n    this.rotation = this.next.rotation;\r\n    this.position = Math.floor(_config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns / 2 - 1);\r\n    this.canBeSaved = true;\r\n    this.canMoveDown = true;\r\n\r\n    this.initPreview();\r\n\r\n    console.log('tetromino number', this.number);\r\n    this.current = this.theTetrominoes[this.number][this.rotation];\r\n  },\r\n  saveTetromino() {\r\n    console.log('saving tetromino');\r\n    this.saved = {\r\n      number: this.number,\r\n      rotation: this.rotation,\r\n      tetromino: this.theTetrominoesPreview[this.number][this.rotation],\r\n    };\r\n  },\r\n  switchSaved() {\r\n    const wasSaved = this.saved;\r\n    this.saveTetromino();\r\n    this.number = wasSaved.number;\r\n    this.rotation = wasSaved.rotation;\r\n    this.current = this.theTetrominoes[this.number][this.rotation];\r\n    this.position = Math.floor(_config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns / 2 - 1);\r\n    this.canBeSaved = false;\r\n  },\r\n  rotateTetromino(direction) {\r\n    let tempRotationIndex = this.rotation;\r\n    direction === 'right' ? tempRotationIndex++ : tempRotationIndex--;\r\n    tempRotationIndex >= this.theTetrominoes[this.number].length ? (tempRotationIndex = 0) : null;\r\n    tempRotationIndex < 0\r\n      ? (tempRotationIndex = this.theTetrominoes[this.number].length - 1)\r\n      : null;\r\n    // testing boudaries\r\n    const tempTetromino = this.theTetrominoes[this.number][tempRotationIndex];\r\n    const willTouchLimits = tempTetromino.some((index) => {\r\n      return _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].blocks[this.position + index + _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns].classList.contains('taken');\r\n    });\r\n\r\n    const isAtRightEdge = tempTetromino.some((index) => {\r\n      return (index + this.position) % _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns === 0;\r\n    });\r\n\r\n    const isAtLeftEdge = tempTetromino.some((index) => {\r\n      return (index + this.position + 1) % _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns === 0;\r\n    });\r\n    if (willTouchLimits || (isAtRightEdge && isAtLeftEdge)) {\r\n      console.log('rotation not possible due to boudaries conflict');\r\n    } else {\r\n      _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].play(_audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].rotate);\r\n      console.log('rotating tetromino to the ' + direction);\r\n      this.undraw();\r\n      this.current = tempTetromino;\r\n      this.rotation = tempRotationIndex;\r\n      this.draw();\r\n    }\r\n  },\r\n  drawPreview() {\r\n    console.log('drawing preview tetromino');\r\n    _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].cleanPreviewGrid();\r\n    this.next.tetromino.forEach((index) => {\r\n      _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].preview[index].classList.add('tetromino');\r\n      _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].preview[index].classList.add('colorT' + this.next.number.toString());\r\n    });\r\n  },\r\n  drawSaved() {\r\n    console.log('drawing saved tetromino');\r\n    _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].cleanSavedGrid();\r\n    this.saved.tetromino.forEach((index) => {\r\n      _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].saved[index].classList.add('tetromino');\r\n      _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].saved[index].classList.add('colorT' + this.saved.number.toString());\r\n    });\r\n  },\r\n  draw() {\r\n    this.current.forEach((index) => {\r\n      _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].blocks[this.position + index].classList.add('tetromino');\r\n      _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].blocks[this.position + index].classList.add('colorT' + this.number.toString());\r\n    });\r\n  },\r\n  drawNew() {\r\n    this.initTetromino();\r\n    this.draw();\r\n    this.drawPreview();\r\n  },\r\n  undraw() {\r\n    this.current.forEach((index) => {\r\n      _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].blocks[this.position + index].className = 'playgroundBlock';\r\n    });\r\n  },\r\n  moveDown() {\r\n    this.undraw();\r\n    this.position += _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns;\r\n    this.draw();\r\n  },\r\n  smackDown() {\r\n    console.log('smack tetromino down');\r\n    if (this.canMoveDown) {\r\n      this.undraw();\r\n      while (!this.freeze()) {\r\n        this.position += _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns;\r\n      }\r\n      _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].play(_audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].smack);\r\n      _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].justSmashed = true;\r\n      this.draw();\r\n    } else {\r\n      console.log(`tetromino can't go deeper than that`);\r\n    }\r\n  },\r\n  moveLeft() {\r\n    const isAtLeftEdge = this.current.some((index) => {\r\n      return (index + this.position) % _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns === 0;\r\n    });\r\n    if (!isAtLeftEdge && !this.lateralBlock('left')) {\r\n      console.log('moving tetromino left');\r\n      _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].play(_audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].move);\r\n      this.undraw();\r\n      this.position--;\r\n      this.draw();\r\n    } else {\r\n      console.log('left boudary prevents tetromino movement');\r\n    }\r\n  },\r\n  pushDown() {\r\n    if (_playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].deletingAnimation !== 'init') {\r\n      return;\r\n    }\r\n    if (!this.freeze() && this.canMoveDown) {\r\n      console.log('moving tetromino down');\r\n      _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].play(_audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].move);\r\n      this.undraw();\r\n      this.position += _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns;\r\n      this.draw();\r\n    } else {\r\n      this.canMoveDown ? _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].play(_audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].land) : null;\r\n      this.canMoveDown = false;\r\n      console.log('bottom boudary prevents tetromino movement');\r\n    }\r\n  },\r\n  moveRight() {\r\n    const isAtRightEdge = this.current.some((index) => {\r\n      return (index + this.position + 1) % _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns === 0;\r\n    });\r\n    if (!isAtRightEdge && !this.lateralBlock('right')) {\r\n      console.log('moving tetromino right');\r\n      _audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].play(_audio__WEBPACK_IMPORTED_MODULE_3__[\"sounds\"].move);\r\n      this.undraw();\r\n      this.position++;\r\n      this.draw();\r\n    } else {\r\n      console.log('right boudary prevents tetromino movement');\r\n    }\r\n  },\r\n  // when the current tetromino encouters a boundary it will freeze and become part of the boudaries.\r\n  freeze() {\r\n    const freezeCondition = this.current.some((index) =>\r\n      _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].blocks[this.position + index + _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].columns].classList.contains('taken')\r\n    );\r\n    if (freezeCondition) {\r\n      console.log('TOUCH DOWN! new tetromino in the way');\r\n      this.canMoveDown = false;\r\n      this.current.forEach((index) => {\r\n        _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].blocks[index + this.position].classList.add('taken');\r\n      });\r\n      return true;\r\n    }\r\n    return false;\r\n  },\r\n  lateralBlock(side) {\r\n    let checkSide;\r\n    side === 'right' ? (checkSide = 1) : (checkSide = -1);\r\n    return this.current.some((index) =>\r\n      _playground__WEBPACK_IMPORTED_MODULE_1__[\"playground\"].blocks[this.position + index + checkSide].classList.contains('taken')\r\n    );\r\n  },\r\n};\r\n\n\n//# sourceURL=webpack:///./src/modules/tetrominoes.js?");

/***/ }),

/***/ "./src/modules/timer.js":
/*!******************************!*\
  !*** ./src/modules/timer.js ***!
  \******************************/
/*! exports provided: timer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"timer\", function() { return timer; });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"./src/modules/config.js\");\n\r\n\r\nconst timer = {\r\n  value: 0,\r\n  timerCount: 0,\r\n  timerDisplay: 0,\r\n  display() {\r\n    this.timerDisplay = setInterval(() => {\r\n      let valueToDisplay;\r\n      this.value <= 0 ? (valueToDisplay = 0) : (valueToDisplay = Math.round(this.value));\r\n      document.getElementById('timer').innerHTML = valueToDisplay;\r\n    }, _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].timerDisplayPrecision);\r\n  },\r\n  increment() {\r\n    this.timerCount = setInterval(() => {\r\n      this.value += _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].timerCountPrecision / 1000;\r\n      this.value = Math.round(this.value * 1000) / 1000;\r\n    }, _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].timerCountPrecision);\r\n  },\r\n  decrement() {\r\n    this.timerCount = setInterval(() => {\r\n      this.value -= _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].timerCountPrecision / 1000;\r\n      this.value = Math.round(this.value * 1000) / 1000;\r\n    }, _config__WEBPACK_IMPORTED_MODULE_0__[\"init\"].timerCountPrecision);\r\n  },\r\n  pause() {\r\n    console.log('pausing timer');\r\n    console.log('timer count', this.timerCount);\r\n    clearInterval(this.timerCount);\r\n    clearInterval(this.timerDisplay);\r\n  },\r\n  // reset() {\r\n  //   console.log('reseting timer');\r\n  //   clearInterval(this.timerCount);\r\n  //   clearInterval(this.timerDisplay);\r\n  // },\r\n};\r\n\n\n//# sourceURL=webpack:///./src/modules/timer.js?");

/***/ })

/******/ });